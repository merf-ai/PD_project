{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'Main',\n  data() {\n    return {\n      client: [],\n      user: [{\n        id: 1,\n        username: 'novackirr',\n        surname: 'Мясников',\n        name: 'Кирилл',\n        type: 'Студент',\n        email: 'std1@mail.ru'\n      }]\n    };\n  },\n  mounted() {\n    this.getClient();\n  },\n  methods: {\n    async deleteClient() {\n      this.$store.commit('setIsLoading', true);\n      const clientID = this.$route.params.id;\n      await axios.post(`/api/v1/clients/delete_client/${clientID}/`).then(response => {\n        console.log(response.data);\n        this.$router.push('/dashboard/clients');\n      }).catch(error => {\n        console.log(error);\n      });\n      this.$store.commit('setIsLoading', false);\n    },\n    async getClient() {\n      this.$store.commit('setIsLoading', true);\n      const clientID = this.$route.params.id;\n      alert($store.state.token);\n      let config = {\n        headers: {\n          'Authorization': 'Token ' + this.$store.state.token\n        }\n      };\n      await axios.get(`/users/profile`, {}, config).then(response => {\n        this.client = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n      await axios.get(`/profile/${clientID}`).then(response => {\n        this.notes = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n      this.$store.commit('setIsLoading', false);\n    }\n  }\n};","map":{"version":3,"mappings":";AAsCA,OAAOA,KAAI,MAAO,OAAM;AACxB,eAAe;EACXC,IAAI,EAAE,MAAM;EACZC,IAAI,GAAG;IACH,OAAO;MACHC,MAAM,EAAE,EAAE;MACVC,IAAI,EAAE,CAAC;QACHC,EAAE,EAAE,CAAC;QACLC,QAAQ,EAAE,WAAW;QACrBC,OAAO,EAAE,UAAU;QACnBN,IAAI,EAAE,QAAQ;QACdO,IAAI,EAAE,SAAS;QACfC,KAAK,EAAE;MACX,CAAC;IACL;EACJ,CAAC;EACDC,OAAO,GAAG;IACF,IAAI,CAACC,SAAS,EAAC;EACnB,CAAC;EACDC,OAAO,EAAE;IACL,MAAMC,YAAY,GAAG;MACjB,IAAI,CAACC,MAAM,CAACC,MAAM,CAAC,cAAc,EAAE,IAAI;MACvC,MAAMC,QAAO,GAAI,IAAI,CAACC,MAAM,CAACC,MAAM,CAACb,EAAC;MACrC,MAAML,KAAI,CACLmB,IAAI,CAAE,iCAAgCH,QAAS,GAAE,EACjDI,IAAI,CAACC,QAAO,IAAK;QACdC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACnB,IAAI;QACzB,IAAI,CAACsB,OAAO,CAACC,IAAI,CAAC,oBAAoB;MAC1C,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACZL,OAAO,CAACC,GAAG,CAACI,KAAK;MACrB,CAAC;MACL,IAAI,CAACb,MAAM,CAACC,MAAM,CAAC,cAAc,EAAE,KAAK;IAC5C,CAAC;IACD,MAAMJ,SAAS,GAAG;MACd,IAAI,CAACG,MAAM,CAACC,MAAM,CAAC,cAAc,EAAE,IAAI;MACvC,MAAMC,QAAO,GAAI,IAAI,CAACC,MAAM,CAACC,MAAM,CAACb,EAAC;MACrCuB,KAAK,CAACd,MAAM,CAACe,KAAK,CAACC,KAAK;MACxB,IAAIC,MAAK,GAAI;QACTC,OAAO,EAAE;UACT,eAAe,EAAE,QAAO,GAAI,IAAI,CAAClB,MAAM,CAACe,KAAK,CAACC;QAC9C;MACJ;MACA,MAAM9B,KAAI,CACLiC,GAAG,CAAE,gBAAe,EAAE,CAAC,CAAC,EAAEF,MAAM,EAChCX,IAAI,CAACC,QAAO,IAAK;QACd,IAAI,CAAClB,MAAK,GAAIkB,QAAQ,CAACnB,IAAG;MAC9B,CAAC,EACAwB,KAAK,CAACC,KAAI,IAAK;QACZL,OAAO,CAACC,GAAG,CAACI,KAAK;MACrB,CAAC;MACL,MAAM3B,KAAI,CACLiC,GAAG,CAAE,YAAWjB,QAAS,EAAC,EAC1BI,IAAI,CAACC,QAAO,IAAK;QACd,IAAI,CAACa,KAAI,GAAIb,QAAQ,CAACnB,IAAG;MAC7B,CAAC,EACAwB,KAAK,CAACC,KAAI,IAAK;QACZL,OAAO,CAACC,GAAG,CAACI,KAAK;MACrB,CAAC;MACL,IAAI,CAACb,MAAM,CAACC,MAAM,CAAC,cAAc,EAAE,KAAK;IAC5C;EACJ;AACR","names":["axios","name","data","client","user","id","username","surname","type","email","mounted","getClient","methods","deleteClient","$store","commit","clientID","$route","params","post","then","response","console","log","$router","push","catch","error","alert","state","token","config","headers","get","notes"],"sourceRoot":"","sources":["C:\\Users\\NOVAC\\Desktop\\GitHub Rep\\PD_project\\frontend\\src\\views\\Account.vue"],"sourcesContent":["<template>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap-avatar@latest/dist/avatar.min.css\" rel=\"stylesheet\">\r\n    <div class=\"Account\">\r\n        <!-- <div class=\"card\" style=\"width: 18rem;\"></div> -->\r\n        <div v-for=\"profile in user\" :key=\"profile.id\">\r\n            <div class=\"card\">\r\n                <div class=\"card-body\">\r\n                    <div class=\"d-flex justify-content-between mb-3\">\r\n                        <div>\r\n                            <h4 class=\"card-title\">{{ profile.type }}</h4>\r\n                            <h5 class=\"card-subtitle mb-2 text-muted\">{{ profile.surname }} {{ profile.name }}</h5>\r\n                        </div>\r\n                        <div class=\"image\">\r\n                            <img :src=\"require('@/assets/student.svg')\" class=\"rounded-circle\" style=\"width: 150px;\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"mb-3\">\r\n                        <h5 class=\"card-title\">\r\n                            Контактная информация:\r\n                        </h5>\r\n                        <dl class=\"row\">\r\n                            <div> client {{client.id }}</div>\r\n                            <dt class=\"col-sm-3\">Никнейм: </dt>\r\n                            <dd class=\"col-sm-9\">{{ profile.username }}</dd>\r\n                            <dt class=\"col-sm-3\">Почта: </dt>\r\n                            <dd class=\"col-sm-9\">{{ profile.email }}</dd>\r\n                        </dl>\r\n\r\n                        <button type=\"button\" class=\"btn btn-outline-primary\">Редактировать информацию</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n    name: 'Main',\r\n    data() {\r\n        return {\r\n            client: [],\r\n            user: [{\r\n                id: 1,\r\n                username: 'novackirr',\r\n                surname: 'Мясников',\r\n                name: 'Кирилл',\r\n                type: 'Студент',\r\n                email: 'std1@mail.ru'\r\n            }],\r\n        }\r\n    },\r\n    mounted() {\r\n            this.getClient()\r\n        },\r\n        methods: {\r\n            async deleteClient() {\r\n                this.$store.commit('setIsLoading', true)\r\n                const clientID = this.$route.params.id\r\n                await axios\r\n                    .post(`/api/v1/clients/delete_client/${clientID}/`)\r\n                    .then(response => {\r\n                        console.log(response.data)\r\n                        this.$router.push('/dashboard/clients')\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error)\r\n                    })\r\n                this.$store.commit('setIsLoading', false)\r\n            },\r\n            async getClient() {\r\n                this.$store.commit('setIsLoading', true)\r\n                const clientID = this.$route.params.id\r\n                alert($store.state.token)\r\n                let config = {\r\n                    headers: {\r\n                    'Authorization': 'Token ' + this.$store.state.token\r\n                    }\r\n                }\r\n                await axios\r\n                    .get(`/users/profile`, {}, config)\r\n                    .then(response => {\r\n                        this.client = response.data\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error)\r\n                    })\r\n                await axios\r\n                    .get(`/profile/${clientID}`)\r\n                    .then(response => {\r\n                        this.notes = response.data\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error)\r\n                    })\r\n                this.$store.commit('setIsLoading', false)\r\n            }\r\n        }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}